{% extends "layout.html" %}

{% block title %} 
    Main Page
{% endblock %}

{% block main %}
  <div class="flex-container">
    <div id="menu-index">
      <form action="/add_subject" method="get">
        <button>Add Subject</button>
      </form>
      <form action="/add_division" method="get">
        <button>Add Division</button>
      </form>
      <form action="/index" method="post">
        <button>Remove Subject</button>
      </form>
      <form>
        <button>Remove Division</button>
      </form>
    </div>
    <div id="content">
      <table>
        <thead>
          <tr>
            <th>SUBJECT</th>
            {% for division in divisions %}
              <th>{{ division.division }}</th>
            {% endfor %}
            <th>Overall Sb</th>
          </tr>
        </thead>
        <tbody>
          {% for subject in subjects %}
            <tr>
              <td>{{ subject.subject }}</td>
              {% for division in divisions %}
                <td>
                  {% for grade in subject.grades %}
                    {% if grade.division == division.division %}
                      {{ grade.grade }}
                    {% endif %}
                  {% endfor %}
                </td>
              {% endfor %}
              <td> <!-- Calculate and display overall subject grade here --> </td>
            </tr>
          {% endfor %}
          <tr>
            <th>Overall Div</th>
            {% for division in divisions %}
              <td> <!-- Calculate and display overall division grade here --> </td>
            {% endfor %}
            <td> <!-- Calculate and display overall course grade here --> </td>
          </tr>
        </tbody>
      </table>
      <!-- Add your overall grade calculation and result display here using Flask -->
    </div>
  </div>
{% endblock %}